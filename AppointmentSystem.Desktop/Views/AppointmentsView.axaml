<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="AppointmentSystem.Desktop.Views.AppointmentsView">

    <DockPanel Margin="20">

        <!-- Toolbar -->
        <StackPanel Orientation="Horizontal" Spacing="10" DockPanel.Dock="Top">
            <TextBlock Text="Date:" VerticalAlignment="Center" Foreground="White"/>
            <DatePicker Name="DatePicker" />
            <Button Content="Refresh" Name="RefreshBtn" />
            <Button Content="Add" Name="AddBtn" />
            <Button Content="Edit" Name="EditBtn" />
            <Button Content="Delete" Name="DeleteBtn" />
        </StackPanel>

        <!-- Appointments ListBox fallback (visible and simple) -->
        <ScrollViewer Margin="0,10,0,0">
            <ListBox Name="AppointmentsList" ItemsSource="{Binding Appointments}" Background="Transparent" BorderThickness="0">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Border Padding="8 6" Background="Transparent">
                            <Grid ColumnDefinitions="170,70,Auto,50,Auto,80,1*" ColumnSpacing="12">
                                <!-- Start -->
                                <TextBlock Grid.Column="0" Text="{Binding StartTime, StringFormat='{}{0:yyyy-MM-dd HH:mm}'}" TextTrimming="CharacterEllipsis" />
                                <!-- End -->
                                <TextBlock Grid.Column="1" Text="{Binding EndTime, StringFormat='{}{0:HH:mm}'}" HorizontalAlignment="Left" />
                                <!-- Client label+id -->
                                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="4">
                                    <TextBlock Text="Client:" Opacity="0.8" />
                                    <TextBlock Text="{Binding ClientId}" />
                                </StackPanel>
                                <!-- Service label+id -->
                                <StackPanel Grid.Column="3" Orientation="Horizontal" Spacing="4">
                                    <TextBlock Text="Service:" Opacity="0.8" />
                                    <TextBlock Text="{Binding ServiceId}" />
                                </StackPanel>
                                <!-- Status -->
                                <TextBlock Grid.Column="5" Text="{Binding Status}" HorizontalAlignment="Left" />
                                <!-- Notes (expand) -->
                                <TextBlock Grid.Column="6" Text="{Binding Notes}" TextTrimming="CharacterEllipsis" MaxLines="2" Opacity="0.95" />
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </ScrollViewer>

    </DockPanel>

</UserControl>
